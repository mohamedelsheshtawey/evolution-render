# ===========================================
# EVOLUTION API - COMPLETE CONFIGURATION
# ===========================================

# ===========================================
# SERVER CONFIGURATION
# ===========================================
SERVER_NAME=evolution
SERVER_TYPE=http
SERVER_PORT=8080
SERVER_URL=http://localhost:8080
SERVER_DISABLE_DOCS=false
SERVER_DISABLE_MANAGER=false

# ===========================================
# CORS
# ===========================================
CORS_ORIGIN=*
CORS_METHODS=POST,GET,PUT,DELETE
CORS_CREDENTIALS=true

# ===========================================
# AUTHENTICATION (⚠️ CHANGE THIS!)
# ===========================================
AUTHENTICATION_API_KEY=mohamedelsheshtawey
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=false

# ===========================================
# DATABASE - POSTGRESQL (FOR DOCKER COMPOSE)
# ===========================================
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=postgresql://postgres:evolution_password@evolution-postgres:5432/evolution_db
DATABASE_CONNECTION_CLIENT_NAME=evolution

# PostgreSQL Environment Variables (REQUIRED by docker-compose.yaml)
POSTGRES_DATABASE=evolution_db
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=evolution_password

# Database Save Settings
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true
DATABASE_SAVE_IS_ON_WHATSAPP=true
DATABASE_SAVE_IS_ON_WHATSAPP_DAYS=7
DATABASE_DELETE_MESSAGE=false

# ===========================================
# REDIS CACHE (FOR DOCKER COMPOSE)
# ===========================================
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://evolution-redis:6379
CACHE_REDIS_PREFIX_KEY=evolution
CACHE_REDIS_TTL=604800
CACHE_REDIS_SAVE_INSTANCES=false

# Local cache fallback
CACHE_LOCAL_ENABLED=false

# ===========================================
# LOGS (Optimized for Performance)
# ===========================================
LOG_LEVEL=ERROR,WARN,INFO
LOG_COLOR=true
LOG_BAILEYS=error

# ===========================================
# EVENT EMITTER
# ===========================================
EVENT_EMITTER_MAX_LISTENERS=50

# ===========================================
# INSTANCES
# ===========================================
DEL_INSTANCE=false
DEL_TEMP_INSTANCES=true

# ===========================================
# LANGUAGE
# ===========================================
LANGUAGE=en

# ===========================================
# TELEMETRY
# ===========================================
TELEMETRY_ENABLED=true

# ===========================================
# WEBHOOK
# ===========================================
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Webhook Events (Set to true only for events you need)
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_INSTANCE_CREATE=false
WEBHOOK_EVENTS_INSTANCE_DELETE=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=false
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_EDITED=false
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_MESSAGES_DELETE=false
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_SEND_MESSAGE_UPDATE=false
WEBHOOK_EVENTS_CONTACTS_SET=false
WEBHOOK_EVENTS_CONTACTS_UPDATE=false
WEBHOOK_EVENTS_CONTACTS_UPSERT=false
WEBHOOK_EVENTS_PRESENCE_UPDATE=false
WEBHOOK_EVENTS_CHATS_SET=false
WEBHOOK_EVENTS_CHATS_UPDATE=false
WEBHOOK_EVENTS_CHATS_UPSERT=false
WEBHOOK_EVENTS_CHATS_DELETE=false
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_LABELS_EDIT=false
WEBHOOK_EVENTS_LABELS_ASSOCIATION=false
WEBHOOK_EVENTS_GROUPS_UPSERT=false
WEBHOOK_EVENTS_GROUPS_UPDATE=false
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=false
WEBHOOK_EVENTS_CALL=false
WEBHOOK_EVENTS_TYPEBOT_START=false
WEBHOOK_EVENTS_TYPEBOT_CHANGE_STATUS=false
WEBHOOK_EVENTS_ERRORS=false
WEBHOOK_EVENTS_ERRORS_WEBHOOK=

# Webhook Request Settings
WEBHOOK_REQUEST_TIMEOUT_MS=30000
WEBHOOK_RETRY_MAX_ATTEMPTS=10
WEBHOOK_RETRY_INITIAL_DELAY_SECONDS=5
WEBHOOK_RETRY_USE_EXPONENTIAL_BACKOFF=true
WEBHOOK_RETRY_MAX_DELAY_SECONDS=300
WEBHOOK_RETRY_JITTER_FACTOR=0.2
WEBHOOK_RETRY_NON_RETRYABLE_STATUS_CODES=400,401,403,404,422

# ===========================================
# WEBSOCKET
# ===========================================
WEBSOCKET_ENABLED=false
WEBSOCKET_GLOBAL_EVENTS=false

# ===========================================
# RABBITMQ (Disabled for basic setup)
# ===========================================
RABBITMQ_ENABLED=false

# ===========================================
# SQS (Disabled for basic setup)
# ===========================================
SQS_ENABLED=false

# ===========================================
# KAFKA (Disabled for basic setup)
# ===========================================
KAFKA_ENABLED=false

# ===========================================
# PUSHER (Disabled for basic setup)
# ===========================================
PUSHER_ENABLED=false

# ===========================================
# WHATSAPP BUSINESS API
# ===========================================
WA_BUSINESS_TOKEN_WEBHOOK=evolution
WA_BUSINESS_URL=https://graph.facebook.com
WA_BUSINESS_VERSION=v20.0
WA_BUSINESS_LANGUAGE=en_US

# ===========================================
# SESSION CONFIGURATION
# ===========================================
CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome

# ===========================================
# QR CODE
# ===========================================
QRCODE_LIMIT=30
QRCODE_COLOR=#198754

# ===========================================
# INTEGRATIONS - ENABLE/DISABLE
# ===========================================
# ⚠️ IMPORTANT: Set to true to enable n8n integration!
N8N_ENABLED=true

# Other integrations (disabled by default)
TYPEBOT_ENABLED=false
CHATWOOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false
EVOAI_ENABLED=false
FLOWISE_ENABLED=false

# ===========================================
# S3 / MINIO STORAGE (Disabled for basic setup)
# ===========================================
S3_ENABLED=false

# ===========================================
# METRICS (Disabled for basic setup)
# ===========================================
PROMETHEUS_METRICS=false

# ===========================================
# SSL CONFIGURATION (For production only)
# ===========================================
SSL_CONF_PRIVKEY=/path/to/cert.key
SSL_CONF_FULLCHAIN=/path/to/cert.crt

# ===========================================
# PROXY CONFIGURATION (Optional)
# ===========================================
PROXY_HOST=
PROXY_PORT=
PROXY_PROTOCOL=
PROXY_USERNAME=
PROXY_PASSWORD=

# ===========================================
# AUDIO CONVERTER API (Optional)
# ===========================================
API_AUDIO_CONVERTER=
API_AUDIO_CONVERTER_KEY=